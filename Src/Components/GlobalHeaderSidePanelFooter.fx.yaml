GlobalHeaderSidePanelFooter As CanvasComponent:
    cntr_globalHeaderHeight: =cntr_globalHeader.Height
    cntr_globalNavbarHeight: =cntr_globalNavBar.Height
    cntr_globalNavBarWidth: =cntr_globalNavBar.Width
    Fill: =RGBA(0, 0, 0, 0)
    Height: =768
    Width: =1366
    X: =0
    Y: =0
    ZIndex: =1

    cntr_globalHeader As groupContainer.horizontalAutoLayoutContainer:
        Height: =100
        LayoutMode: =LayoutMode.Auto
        Width: =App.Width - cntr_globalNavBar.Width
        X: =cntr_globalNavBar.Width
        ZIndex: =1

        hdr_Control As Header:
            Align: =""
            BasePaletteColor: =RGBA(102, 162, 170, 1)
            BorderStyle: =""
            ContentLanguage: =""
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 130, 101, 1)
            Font: =Font.'Segoe UI'
            Height: =70
            IsLogoVisible: =false
            IsProfilePictureVisible: =true
            IsTitleVisible: =true
            LayoutMinHeight: =75
            LayoutMinWidth: =Parent.Width
            LogoMaxHeight: =70
            LogoTooltip: ="The logo image"
            OnSelectLogo: =false
            Style: ='Header.Style'.Primary
            TabIndex: =0
            Title: |-
                =Switch(
                    CurrentScreen,
                    "Dashboard", "üè† Dashboard",
                    "Teams", "üë• Teams",
                    "Assessments", "üìã Assessments", 
                    "Reports", "üìä Reports",
                    "Admin", "‚öôÔ∏è Admin",
                    "Assessment", "üìù Assessment in Progress",
                    "AssessmentResults", "üìà Assessment Results",
                    "AssessmentSetup", "üîß Assessment Setup",
                    CurrentScreen
                )
            TitleFontSize: =25
            TitleRole: =""
            Tooltip: =""
            UserEmail: |
                =User().Email
            UserImage: =Office365Users.UserPhotoV2(User().Email)
            UserImageAltText: =User().FullName &" profile picture"
            UserName: =User().FullName
            Visible: =true
            Width: =Parent.Width
            X: =cntr_globalNavBar.Width
            Y: =0
            ZIndex: =1
        
        cntr_breadcrumb As groupContainer.horizontalAutoLayoutContainer:
            Fill: =RGBA(245, 245, 245, 1)
            Height: =30
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =20
            PaddingRight: =20
            Width: =Parent.Width
            ZIndex: =2
            
            btn_MobileMenu As Button:
                Appearance: ='ButtonCanvas.Appearance'.Subtle
                BorderRadius: =4
                Fill: =RGBA(245, 245, 245, 1)
                Height: =24
                Icon: ="HamburgerMenu"
                Layout: ='ButtonCanvas.Layout'.IconOnly
                OnSelect: |-
                    =// Toggle mobile navigation overlay
                    Set(gblShowMobileNav, !gblShowMobileNav)
                Visible: =App.Width < 768
                Width: =24
                ZIndex: =3
            
            lbl_breadcrumb As label:
                BorderColor: =App.Theme.Colors.Darker40
                Color: =RGBA(107, 114, 126, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Normal
                Height: =20
                Size: =12
                Text: |-
                    =Switch(
                        CurrentScreen,
                        "Dashboard", "Home",
                        "Teams", "Home > Teams",
                        "Assessments", "Home > Assessments",
                        "Reports", "Home > Reports", 
                        "Admin", "Home > Admin",
                        "Assessment", 
                            If(
                                !IsBlank(gblSelectedTeam),
                                "Home > Teams > " & gblSelectedTeam.TeamName & " > Assessment",
                                "Home > Assessment"
                            ),
                        "AssessmentResults",
                            If(
                                !IsBlank(gblSelectedAssessment),
                                "Home > Assessments > " & gblSelectedAssessment.TeamLookup.Value & " > Results",
                                "Home > Assessment Results"
                            ),
                        "AssessmentSetup", "Home > Assessment Setup",
                        "Home"
                    )
                ZIndex: =1

    cntr_globalNavBar As groupContainer.manualLayoutContainer:
        Fill: =RGBA(15, 53, 87, 1)
        Height: =App.Height
        Width: |-
            =// Responsive navigation width
            If(
                App.Width < 768,  // Mobile breakpoint
                60,               // Collapsed width - icons only
                If(
                    App.Width < 1024,  // Tablet breakpoint
                    200,               // Medium width
                    270                // Full desktop width
                )
            )
        X: =Parent.X
        ZIndex: =2

        lbl_AppName As label:
            Align: =Align.Center
            BorderColor: =RGBA(191, 191, 191, 1)
            BorderThickness: =1
            Color: =RGBA(255, 255, 255, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =Font.'Segoe UI'
            Height: =70
            Size: |-
                =If(
                    App.Width < 768,
                    20,  // Smaller text on mobile
                    If(
                        App.Width < 1024,
                        25,  // Medium text on tablet
                        30   // Full size on desktop
                    )
                )
            Text: |-
                =If(
                    App.Width < 768,
                    "AM",           // Very abbreviated on mobile
                    If(
                        App.Width < 1024,
                        "AMAP",      // Abbreviated on tablet
                        "Agile Maturity"  // Full name on desktop
                    )
                )
            Width: =Parent.Width
            ZIndex: =2

        grp_Dashboard As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =9

            btn_Dashboard As button:
                Align: =Align.Left
                BorderColor: |-
                    =If(
                        CurrentScreen = "Dashboard",
                        RGBA(0, 130, 101, 1),
                        App.Theme.Colors.Primary
                    )
                BorderStyle: |-
                    =If(
                        CurrentScreen = "Dashboard",
                        BorderStyle.Solid,
                        BorderStyle.None
                    )
                BorderThickness: |-
                    =If(
                        CurrentScreen = "Dashboard",
                        3,
                        0
                    )
                Color: |-
                    =If(
                        CurrentScreen = "Dashboard",
                        RGBA(0, 130, 101, 1),
                        App.Theme.Colors.PrimaryForeground
                    )
                DisabledBorderColor: =RGBA(244, 244, 244, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: |-
                    =If(
                        CurrentScreen = "Dashboard",
                        RGBA(0, 130, 101, 0.1),
                        RGBA(15, 53, 87, 1)
                    )
                FocusedBorderThickness: =0
                Font: =Font.Verdana
                FontWeight: |-
                    =If(
                        CurrentScreen = "Dashboard",
                        FontWeight.Semibold,
                        FontWeight.Normal
                    )
                Height: =48
                HoverBorderColor: =App.Theme.Colors.Darker10
                HoverColor: =App.Theme.Colors.PrimaryForeground
                HoverFill: =RGBA(0, 130, 101, 1)
                OnSelect: |-
                    =// Set loading state
                    Set(gblIsNavigating, true);
                    
                    // Small delay for micro-interaction
                    Set(gblCurrentTarget, "Dashboard");
                    
                    // Navigate with context
                    Set(CurrentScreen, "Dashboard");
                    Navigate(AppHomeScreen, ScreenTransition.Fade);
                    
                    // Reset loading after navigation
                    Set(gblIsNavigating, false);
                PaddingBottom: =0
                PaddingLeft: =45
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =
                PressedColor: =Self.Color
                PressedFill: =RGBA(0, 130, 101, 1)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =15
                Text: |-
                    =If(
                        App.Width < 768,
                        "",          // No text on mobile
                        "Dashboard"  // Full text on larger screens
                    )
                Width: =Parent.Width
                X: =Parent.X+1
                Y: =96
                ZIndex: =3

            icn_Dashboard As Icon:
                DisplayMode: =DisplayMode.Edit
                Height: =25
                Icon: ="Home"
                IconColor: |-
                    =If(
                        CurrentScreen = "Dashboard",
                        RGBA(0, 130, 101, 1),
                        RGBA(255, 255, 255, 1)
                    )
                IconStyle: ='Icon.IconStyle'.Filled
                Width: =50
                X: =Parent.X
                Y: =108
                ZIndex: =4

        grp_Teams As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =11

            btn_Teams As button:
                Align: =Align.Left
                BorderColor: |-
                    =If(
                        CurrentScreen = "Teams",
                        RGBA(0, 130, 101, 1),
                        App.Theme.Colors.Primary
                    )
                BorderStyle: |-
                    =If(
                        CurrentScreen = "Teams",
                        BorderStyle.Solid,
                        BorderStyle.None
                    )
                BorderThickness: |-
                    =If(
                        CurrentScreen = "Teams",
                        3,
                        0
                    )
                Color: |-
                    =If(
                        CurrentScreen = "Teams",
                        RGBA(0, 130, 101, 1),
                        App.Theme.Colors.PrimaryForeground
                    )
                DisabledBorderColor: =RGBA(244, 244, 244, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: |-
                    =If(
                        CurrentScreen = "Teams",
                        RGBA(0, 130, 101, 0.1),
                        RGBA(15, 53, 87, 1)
                    )
                FocusedBorderThickness: =0
                Font: =Font.Verdana
                FontWeight: |-
                    =If(
                        CurrentScreen = "Teams",
                        FontWeight.Semibold,
                        FontWeight.Normal
                    )
                Height: =48
                HoverBorderColor: =App.Theme.Colors.Darker10
                HoverColor: =App.Theme.Colors.PrimaryForeground
                HoverFill: =RGBA(0, 130, 101, 1)
                OnSelect: |-
                    =Set(
                        CurrentScreen,
                        "Teams"
                    );
                    Navigate(
                        AppTeamsScreen,
                        ScreenTransition.Fade
                    )
                PaddingBottom: =0
                PaddingLeft: =45
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =
                PressedColor: =Self.Color
                PressedFill: =RGBA(0, 130, 101, 1)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =15
                Text: ="Teams"
                Width: =Parent.Width
                X: =Parent.X+1
                Y: =159
                ZIndex: =5

            icn_Teams As Icon:
                ContentLanguage: =""
                DisplayMode: =DisplayMode.Edit
                Height: =25
                Icon: ="People"
                IconColor: |-
                    =If(
                        CurrentScreen = "Teams",
                        RGBA(0, 130, 101, 1),
                        RGBA(255, 255, 255, 1)
                    )
                IconStyle: ='Icon.IconStyle'.Filled
                Rotation: =0
                TabIndex: =0
                Tooltip: =""
                Visible: =true
                Width: =50
                X: =Parent.X
                Y: =170
                ZIndex: =6

        Image1 As image:
            BorderColor: =App.Theme.Colors.Darker40
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Height: =70
            Image: ='ChatGPT Image May 20, 2025, 08_54_30 PM (1)'
            Width: =88
            X: =13
            ZIndex: =13

        grp_Assessments As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =13
            
            lbl_assessments_badge As label:
                Align: =Align.Center
                BorderColor: =RGBA(177, 45, 27, 1)
                BorderRadius: =10
                BorderStyle: =BorderStyle.Solid
                BorderThickness: =1
                Color: =RGBA(255, 255, 255, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(177, 45, 27, 1)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Bold
                Height: =20
                Size: =10
                Text: |-
                    =With(
                        {overdueCount: CountRows(
                            Filter(
                                Assessments,
                                ThisRecord.TeamLookup.Value in 
                                    Filter(Teams, ScrumMaster = User().FullName).TeamName &&
                                ThisRecord.'Status '.Value = "Overdue"
                            )
                        )},
                        If(overdueCount > 0, Text(overdueCount), "")
                    )
                Visible: |-
                    =CountRows(
                        Filter(
                            Assessments,
                            ThisRecord.TeamLookup.Value in 
                                Filter(Teams, ScrumMaster = User().FullName).TeamName &&
                            ThisRecord.'Status '.Value = "Overdue"
                        )
                    ) > 0
                Width: =20
                X: =200
                Y: =224
                ZIndex: =15

            btn_Assessments As button:
                Align: =Align.Left
                BorderColor: =App.Theme.Colors.Primary
                BorderStyle: =BorderStyle.None
                BorderThickness: =0
                Color: =App.Theme.Colors.PrimaryForeground
                DisabledBorderColor: =RGBA(244, 244, 244, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(15, 53, 87, 1)
                FocusedBorderThickness: =0
                Font: =Font.Verdana
                Height: =48
                HoverBorderColor: =App.Theme.Colors.Darker10
                HoverColor: =App.Theme.Colors.PrimaryForeground
                HoverFill: =RGBA(0, 130, 101, 1)
                OnSelect: |-
                    =Set(
                        CurrentScreen,
                        "Assessments"
                    );
                    Navigate(
                        AppAssessmentsScreen,
                        ScreenTransition.Fade
                    )
                PaddingBottom: =0
                PaddingLeft: =45
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =
                PressedColor: =Self.Color
                PressedFill: =RGBA(0, 130, 101, 1)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =15
                Text: ="Assessments"
                Width: =Parent.Width
                X: =Parent.X+1
                Y: =222
                ZIndex: =7

            icn_Assessments As Icon:
                ContentLanguage: =""
                DisplayMode: =DisplayMode.Edit
                Height: =25
                Icon: ="DocumentBulletList"
                IconColor: |-
                    =If(
                        CurrentScreen = "Assessments",
                        RGBA(0, 130, 101, 1),
                        RGBA(255, 255, 255, 1)
                    )
                IconStyle: ='Icon.IconStyle'.Filled
                Rotation: =0
                TabIndex: =0
                Tooltip: =""
                Visible: =true
                Width: =50
                X: =Parent.X
                Y: =234
                ZIndex: =8

        grp_Reports As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =15

            btn_Reports As button:
                Align: =Align.Left
                BorderColor: =App.Theme.Colors.Primary
                BorderStyle: =BorderStyle.None
                BorderThickness: =0
                Color: =App.Theme.Colors.PrimaryForeground
                DisabledBorderColor: =RGBA(244, 244, 244, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(15, 53, 87, 1)
                FocusedBorderThickness: =0
                Font: =Font.Verdana
                Height: =48
                HoverBorderColor: =App.Theme.Colors.Darker10
                HoverColor: =App.Theme.Colors.PrimaryForeground
                HoverFill: =RGBA(0, 130, 101, 1)
                OnSelect: |-
                    =Set(
                        CurrentScreen,
                        "Reports"
                    );
                    Navigate(
                        AppReportsScreen,
                        ScreenTransition.Fade
                    )
                PaddingBottom: =0
                PaddingLeft: =45
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =
                PressedColor: =Self.Color
                PressedFill: =RGBA(0, 130, 101, 1)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =15
                Text: ="Reports"
                Width: =Parent.Width
                X: =Parent.X+1
                Y: =284
                ZIndex: =9

            icn_Reports As Icon:
                ContentLanguage: =""
                DisplayMode: =DisplayMode.Edit
                Height: =25
                Icon: ="DocumentBulletList"
                IconColor: =RGBA(255, 255, 255, 1)
                IconStyle: ='Icon.IconStyle'.Filled
                Rotation: =0
                TabIndex: =0
                Tooltip: =""
                Visible: =true
                Width: =50
                X: =Parent.X
                Y: =296
                ZIndex: =10

        grp_Admin As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =18

            lbl_Admin As label:
                Align: =Align.Center
                BorderColor: =RGBA(191, 191, 191, 1)
                BorderThickness: =2
                Color: =RGBA(255, 255, 255, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Font: =Font.'Segoe UI'
                Height: =70
                Size: =13
                Text: =
                Width: =270
                Y: =698
                ZIndex: =1

            btn_Admin As button:
                Align: =Align.Left
                BorderColor: =
                BorderStyle: =BorderStyle.None
                BorderThickness: =0
                Color: =App.Theme.Colors.PrimaryForeground
                DisabledBorderColor: =RGBA(244, 244, 244, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(15, 53, 87, 1)
                FocusedBorderThickness: =0
                Font: =Font.Verdana
                Height: =70
                HoverBorderColor: =App.Theme.Colors.Darker10
                HoverColor: =App.Theme.Colors.PrimaryForeground
                HoverFill: =RGBA(0, 130, 101, 1)
                OnSelect: |-
                    =Set(
                        CurrentScreen,
                        "Admin"
                    );
                    Navigate(
                        AppAdminScreen,
                        ScreenTransition.Fade
                    )
                PaddingBottom: =0
                PaddingLeft: =45
                PaddingRight: =0
                PaddingTop: =0
                PressedBorderColor: =
                PressedColor: =Self.Color
                PressedFill: =RGBA(0, 130, 101, 1)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =15
                Text: ="Admin"
                Width: =Parent.Width
                X: =Parent.X+1
                Y: =698
                ZIndex: =11

            icn_Admin As Icon:
                ContentLanguage: =""
                DisplayMode: =DisplayMode.Edit
                Height: =25
                Icon: ="Settings"
                IconColor: =RGBA(255, 255, 255, 1)
                IconStyle: ='Icon.IconStyle'.Filled
                Rotation: =0
                TabIndex: =0
                Tooltip: =""
                Visible: =true
                Width: =50
                X: =Parent.X
                Y: =720
                ZIndex: =12

